<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player Profile Tabs</title>
    <style>
        body {
            background-color: #f1f0f0;
            font-family: jaf-facitweb, sans-serif;
            font-weight: 300;
            font-style: normal;
            color: #17181b;
            margin: 0;
            padding: 20px;
            font-size: 14px;
            line-height: 1.438em;
        }

        .container-wide {
            width: 100%; /* Full width */
            max-width: none; /* Remove max-width constraint */
            margin: 0 auto;
        }

        /* Tab Section */
        .player-tabs-section {
            background: #fff;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            margin-top: 20px;
            overflow: hidden;
        }

        /* Tab Navigation */
        .tab-navigation {
            display: flex;
            border-bottom: 2px solid #eee;
            background: #fff;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .tab-item {
            padding: 18px 24px;
            cursor: pointer;
            font-weight: 500;
            color: #666;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            text-transform: uppercase;
            font-size: 13px;
            letter-spacing: 0.8px;
            white-space: nowrap;
            font-family: jaf-facitweb, sans-serif;
            position: relative;
        }

        .tab-item.active {
            color: #e71a26;
            border-bottom-color: #e71a26;
            font-weight: 600;
        }

        .tab-item:hover {
            color: #e71a26;
            background: rgba(231, 26, 38, 0.02);
        }

        /* Tab Content */
        .tab-content {
            min-height: 400px;
            padding: 0;
        }

        .tab-panel {
            display: none;
            padding: 30px;
            animation: fadeIn 0.3s ease-in;
        }

        .tab-panel.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Content Styles */
        .content-header {
            font-size: 24px;
            font-weight: 600;
            color: #333;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
        }

        .content-header img {
            height: 32px;
            width: auto;
        }

        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .content-card {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
        }

        .content-card h3 {
            color: #e71a26;
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .content-card p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }

        .stat-row:last-child {
            border-bottom: none;
        }

        .stat-label {
            font-weight: 500;
            color: #333;
        }

        .stat-value {
            font-weight: 600;
            color: #e71a26;
        }

        /* Video Grid */
        .video-layout {
            display: grid;
            grid-template-columns: 1fr 400px; /* Increased sidebar width significantly */
            gap: 30px; /* Increased gap for better separation */
            height: 600px;
        }

        .main-video-container {
            display: flex;
            flex-direction: column;
        }

        .video-player-wrapper {
            flex: 1;
            background: #000;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            margin-top: -50px; /* Move main video up */
        }

        .main-video-player {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .video-info-panel {
            padding: 15px 0;
        }

        .video-info-panel h3 {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin-bottom: 6px;
        }

        .video-info-panel p {
            color: #666;
            line-height: 1.4;
            font-size: 13px;
        }

        .video-sidebar {
            border-left: 1px solid #dee2e6;
            padding-left: 15px;
        }

        .playlist-header {
            margin-bottom: 15px;
        }

        .playlist-header h4 {
            font-size: 14px;
            font-weight: 600;
            color: #333;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .video-playlist {
            height: 100%;
            overflow-y: auto;
        }

        .video-item {
            display: block; /* Changed from flex to block for stacked layout */
            padding: 0; /* Remove padding since text goes inside thumbnail */
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 12px; /* Increased margin for better separation */
            border: 2px solid transparent;
            overflow: hidden;
        }

        .video-item:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .video-item.active {
            border-color: #e71a26;
        }

        .video-thumbnail {
            position: relative;
            width: 100%; /* Take full width of video item */
            height: 80px; /* Increased height for better overlay space */
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%) !important;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .video-thumbnail::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            border-radius: 6px;
        }

        .play-icon {
            color: white !important;
            font-size: 16px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.7);
            z-index: 2;
            position: relative;
            filter: drop-shadow(0 1px 2px rgba(0,0,0,0.5));
        }

        .video-duration {
            position: absolute;
            top: 6px; /* Moved to top right */
            right: 6px;
            background: rgba(0,0,0,0.8);
            color: white;
            font-size: 10px;
            padding: 2px 5px;
            border-radius: 3px;
            font-weight: 500;
            z-index: 3;
        }

        .video-details {
            position: absolute; /* Position over the thumbnail */
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.8)); /* Gradient overlay */
            color: white;
            padding: 8px 10px;
            z-index: 3;
        }

        .video-title {
            font-weight: 600;
            color: white; /* White text for contrast */
            font-size: 12px;
            margin-bottom: 2px;
            line-height: 1.2;
            text-shadow: 0 1px 2px rgba(0,0,0,0.8); /* Text shadow for readability */
        }

        .video-meta {
            color: rgba(255,255,255,0.9); /* Slightly transparent white */
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 0.3px;
            text-shadow: 0 1px 2px rgba(0,0,0,0.8); /* Text shadow for readability */
        }

        /* News Items */
        .news-item {
            border-bottom: 1px solid #eee;
            padding: 20px 0;
        }

        .news-item:last-child {
            border-bottom: none;
        }

        .news-date {
            color: #999;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        .news-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
        }

        .news-excerpt {
            color: #666;
            line-height: 1.6;
        }

        /* Contact Form */
        .contact-form {
            max-width: 600px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-weight: 500;
            color: #333;
            margin-bottom: 8px;
            text-transform: uppercase;
            font-size: 12px;
            letter-spacing: 0.5px;
        }

        .form-input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            font-family: inherit;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: #e71a26;
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .submit-btn {
            background: #e71a26;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 6px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .submit-btn:hover {
            background: #c41e2a;
        }

        /* Pitching Table Styles */
        .filter-controls {
            display: flex;
            gap: 20px;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #dee2e6;
        }

        .filter-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-label {
            font-weight: 600;
            color: #333;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .filter-select {
            padding: 8px 12px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            background: white;
            font-family: inherit;
            font-size: 13px;
            color: #333;
            min-width: 180px;
            cursor: pointer;
        }

        .filter-select:focus {
            outline: none;
            border-color: #e71a26;
        }

        .filter-reset {
            background: #6c757d;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            cursor: pointer;
            transition: background 0.3s ease;
            font-weight: 500;
        }

        .filter-reset:hover {
            background: #5a6268;
        }

        .pitching-table-container {
            overflow-x: auto;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .pitching-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            font-size: 13px;
        }

        .pitching-table th {
            background: #e71a26;
            color: white;
            padding: 12px 8px;
            text-align: center;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 11px;
            letter-spacing: 0.5px;
            border-right: 1px solid rgba(255,255,255,0.2);
        }

        .pitching-table th:last-child {
            border-right: none;
        }

        .pitching-table td {
            padding: 12px 8px;
            text-align: center;
            border-bottom: 1px solid #eee;
            border-right: 1px solid #eee;
        }

        .pitching-table td:last-child {
            border-right: none;
        }

        .pitching-table tbody tr:hover {
            background: #f8f9fa;
        }

        .pitching-table .pitch-type {
            font-weight: 600;
            color: #e71a26;
            text-align: left;
            padding-left: 15px;
        }

        /* Movement Plot Styles */
        .plot-section {
            margin-top: 30px;
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .plot-header {
            font-size: 20px;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 0.8px;
        }

        .plot-container {
            display: flex;
            justify-content: center;
            width: 100%;
            overflow-x: auto;
        }

        .plot-svg {
            width: 100%;
            height: auto;
            min-width: 800px; /* Minimum width to ensure readability */
        }

        /* Responsive */
        @media (max-width: 768px) {
            .tab-item {
                padding: 15px 18px;
                font-size: 12px;
            }

            .tab-panel {
                padding: 20px;
            }

            .content-grid {
                grid-template-columns: 1fr;
            }

            .video-layout {
                grid-template-columns: 1fr;
                height: auto;
            }

            .video-sidebar {
                border-left: none;
                border-top: 1px solid #dee2e6;
                padding-left: 0;
                padding-top: 20px;
                margin-top: 20px;
            }

            .plot-container {
                overflow-x: scroll;
            }
        }
    </style>
</head>
<body>
    <div class="container-wide">
        <div class="player-tabs-section">
            <!-- Tab Navigation -->
            <div class="tab-navigation">
                <div class="tab-item active" data-tab="tm-pitching">TM Pitching</div>
                <div class="tab-item" data-tab="video">Video</div>
                <div class="tab-item" data-tab="physical-tools">Physical Tools</div>
                <div class="tab-item" data-tab="blast">Blast</div>
                <div class="tab-item" data-tab="visual-edge">Visual Edge</div>
                <div class="tab-item" data-tab="swift">Swift</div>
                <div class="tab-item" data-tab="news">News</div>
                <div class="tab-item" data-tab="comments">Comments</div>
                <div class="tab-item" data-tab="contact">Contact</div>
            </div>

            <!-- Tab Content -->
            <div class="tab-content">
                <!-- TM Pitching Panel -->
                <div class="tab-panel active" id="tm-pitching">
                    <div class="content-header">
                        Trackman Pitching Analysis
                        <img src="images/TM_logo.png" alt="TrackMan" />
                    </div>
                    
                    <!-- Filter Controls -->
                    <div class="filter-controls">
                        <div class="filter-group">
                            <label class="filter-label">Event:</label>
                            <select class="filter-select" id="eventFilter">
                                <option value="all">All Events</option>
                                <option value="pg-national">PG National Showcase</option>
                                <option value="pbr-future-games">PBR Future Games</option>
                                <option value="area-code-games">Area Code Games</option>
                                <option value="top-prospect-games">Top Prospect Games</option>
                                <option value="perfect-game-wwba">PG WWBA Championship</option>
                                <option value="usa-baseball-ntis">USA Baseball NTIS</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label class="filter-label">Year:</label>
                            <select class="filter-select" id="yearFilter">
                                <option value="all">All Years</option>
                                <option value="2025">2025</option>
                                <option value="2024">2024</option>
                                <option value="2023">2023</option>
                            </select>
                        </div>
                        <button class="filter-reset" id="resetFilters">Reset Filters</button>
                    </div>

                    <div class="pitching-table-container">
                        <table class="pitching-table">
                            <thead>
                                <tr>
                                    <th>Pitch Type</th>
                                    <th># Pitches</th>
                                    <th>Zone %</th>
                                    <th>Velocity</th>
                                    <th>Max Velo</th>
                                    <th>Velo Range</th>
                                    <th>Spin Rate</th>
                                    <th>IVB</th>
                                    <th>HB</th>
                                    <th>Rel Height</th>
                                    <th>Rel Side</th>
                                    <th>Extension</th>
                                </tr>
                            </thead>
                            <tbody id="pitchingTableBody">
                                <!-- Default data - All Events, All Years -->
                                <tr data-event="all" data-year="all">
                                    <td class="pitch-type">Fastball</td>
                                    <td>142</td>
                                    <td>52.1%</td>
                                    <td>90.2</td>
                                    <td>92.6</td>
                                    <td>88.1-92.6</td>
                                    <td>2539</td>
                                    <td>16.8</td>
                                    <td>-8.2</td>
                                    <td>6.1</td>
                                    <td>-1.8</td>
                                    <td>6.4</td>
                                </tr>
                                <tr data-event="all" data-year="all">
                                    <td class="pitch-type">Slider</td>
                                    <td>58</td>
                                    <td>48.3%</td>
                                    <td>83.4</td>
                                    <td>85.2</td>
                                    <td>81.7-85.2</td>
                                    <td>2428</td>
                                    <td>2.4</td>
                                    <td>8.9</td>
                                    <td>5.8</td>
                                    <td>-1.6</td>
                                    <td>6.2</td>
                                </tr>
                                <tr data-event="all" data-year="all">
                                    <td class="pitch-type">Changeup</td>
                                    <td>34</td>
                                    <td>44.1%</td>
                                    <td>85.8</td>
                                    <td>87.3</td>
                                    <td>84.2-87.3</td>
                                    <td>1896</td>
                                    <td>12.3</td>
                                    <td>-12.6</td>
                                    <td>6.0</td>
                                    <td>-1.9</td>
                                    <td>6.3</td>
                                </tr>
                                
                                <!-- PG National Showcase 2025 data -->
                                <tr data-event="pg-national" data-year="2025" style="display: none;">
                                    <td class="pitch-type">Fastball</td>
                                    <td>45</td>
                                    <td>55.6%</td>
                                    <td>91.8</td>
                                    <td>92.6</td>
                                    <td>90.2-92.6</td>
                                    <td>2587</td>
                                    <td>17.2</td>
                                    <td>-7.8</td>
                                    <td>6.2</td>
                                    <td>-1.7</td>
                                    <td>6.5</td>
                                </tr>
                                <tr data-event="pg-national" data-year="2025" style="display: none;">
                                    <td class="pitch-type">Slider</td>
                                    <td>18</td>
                                    <td>50.0%</td>
                                    <td>84.1</td>
                                    <td>85.2</td>
                                    <td>82.8-85.2</td>
                                    <td>2456</td>
                                    <td>2.8</td>
                                    <td>9.2</td>
                                    <td>5.9</td>
                                    <td>-1.5</td>
                                    <td>6.3</td>
                                </tr>
                                <tr data-event="pg-national" data-year="2025" style="display: none;">
                                    <td class="pitch-type">Changeup</td>
                                    <td>12</td>
                                    <td>41.7%</td>
                                    <td>86.2</td>
                                    <td>87.3</td>
                                    <td>85.1-87.3</td>
                                    <td>1923</td>
                                    <td>12.8</td>
                                    <td>-12.1</td>
                                    <td>6.1</td>
                                    <td>-1.8</td>
                                    <td>6.4</td>
                                </tr>

                                <!-- PBR Future Games 2024 data -->
                                <tr data-event="pbr-future-games" data-year="2024" style="display: none;">
                                    <td class="pitch-type">Fastball</td>
                                    <td>52</td>
                                    <td>48.1%</td>
                                    <td>89.6</td>
                                    <td>91.3</td>
                                    <td>87.8-91.3</td>
                                    <td>2498</td>
                                    <td>16.2</td>
                                    <td>-8.6</td>
                                    <td>5.9</td>
                                    <td>-1.9</td>
                                    <td>6.2</td>
                                </tr>
                                <tr data-event="pbr-future-games" data-year="2024" style="display: none;">
                                    <td class="pitch-type">Slider</td>
                                    <td>23</td>
                                    <td>43.5%</td>
                                    <td>82.1</td>
                                    <td>83.8</td>
                                    <td>80.4-83.8</td>
                                    <td>2387</td>
                                    <td>1.9</td>
                                    <td>8.4</td>
                                    <td>5.6</td>
                                    <td>-1.7</td>
                                    <td>6.0</td>
                                </tr>
                                <tr data-event="pbr-future-games" data-year="2024" style="display: none;">
                                    <td class="pitch-type">Changeup</td>
                                    <td>15</td>
                                    <td>46.7%</td>
                                    <td>84.9</td>
                                    <td>86.1</td>
                                    <td>83.2-86.1</td>
                                    <td>1854</td>
                                    <td>11.7</td>
                                    <td>-13.2</td>
                                    <td>5.8</td>
                                    <td>-2.0</td>
                                    <td>6.1</td>
                                </tr>

                                <!-- Area Code Games 2024 data -->
                                <tr data-event="area-code-games" data-year="2024" style="display: none;">
                                    <td class="pitch-type">Fastball</td>
                                    <td>38</td>
                                    <td>50.0%</td>
                                    <td>88.9</td>
                                    <td>90.8</td>
                                    <td>86.9-90.8</td>
                                    <td>2512</td>
                                    <td>16.5</td>
                                    <td>-8.0</td>
                                    <td>6.0</td>
                                    <td>-1.8</td>
                                    <td>6.3</td>
                                </tr>
                                <tr data-event="area-code-games" data-year="2024" style="display: none;">
                                    <td class="pitch-type">Slider</td>
                                    <td>14</td>
                                    <td>50.0%</td>
                                    <td>81.8</td>
                                    <td>83.2</td>
                                    <td>80.1-83.2</td>
                                    <td>2401</td>
                                    <td>2.1</td>
                                    <td>8.7</td>
                                    <td>5.7</td>
                                    <td>-1.6</td>
                                    <td>6.1</td>
                                </tr>
                                <tr data-event="area-code-games" data-year="2024" style="display: none;">
                                    <td class="pitch-type">Changeup</td>
                                    <td>6</td>
                                    <td>50.0%</td>
                                    <td>85.5</td>
                                    <td>86.8</td>
                                    <td>84.1-86.8</td>
                                    <td>1878</td>
                                    <td>12.1</td>
                                    <td>-12.8</td>
                                    <td>5.9</td>
                                    <td>-1.9</td>
                                    <td>6.2</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Movement and Release Plots -->
                    <div class="plot-section">
                        <div class="plot-header">Movement & Release Analysis</div>
                        <div class="plot-container">
                            <div id="movementPlot" class="plot-svg"></div>
                        </div>
                    </div>
                </div>

                <!-- Video Panel -->
                <div class="tab-panel" id="video">
                    <div class="content-header">Video Analysis</div>
                    <div class="video-layout">
                        <!-- Main Video Player -->
                        <div class="main-video-container">
                            <div class="video-player-wrapper">
                                <video 
                                    id="mainVideoPlayer" 
                                    controls 
                                    class="main-video-player">
                                    <source src="J. Beckett Berg - 1104363475 [1104363475].mp4" type="video/mp4">
                                    Your browser does not support the video tag.
                                </video>
                            </div>
                            <div class="video-info-panel">
                                <h3 id="currentVideoTitle">J. Beckett Berg - Pitching Analysis</h3>
                                <p id="currentVideoDescription">Comprehensive pitching mechanics and performance analysis from recent showcase events.</p>
                            </div>
                        </div>

                        <!-- Video Sidebar -->
                        <div class="video-sidebar">
                            <div class="video-playlist">
                                <div class="playlist-header">
                                    <h4>Video Playlist</h4>
                                </div>
                                
                                <div class="video-item active" data-src="J. Beckett Berg - 1104363475 [1104363475].mp4" data-title="J. Beckett Berg - Pitching Analysis" data-description="Comprehensive pitching mechanics and performance analysis from recent showcase events.">
                                    <div class="video-thumbnail">
                                        <div class="play-icon">▶</div>
                                        <div class="video-duration">3:42</div>
                                        <div class="video-details">
                                            <div class="video-title">Pitching Analysis</div>
                                            <div class="video-meta">Showcase Performance</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="video-item" data-src="#" data-title="Game Highlights - vs. Valencia HS" data-description="5 innings, 8 strikeouts, 1 earned run performance against top competition in league play.">
                                    <div class="video-thumbnail">
                                        <div class="play-icon">▶</div>
                                        <div class="video-duration">4:15</div>
                                        <div class="video-details">
                                            <div class="video-title">vs. Valencia HS</div>
                                            <div class="video-meta">Game Highlights</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="video-item" data-src="#" data-title="Bullpen Session - Mechanics Focus" data-description="Breaking down pitch sequencing and delivery mechanics in controlled bullpen environment.">
                                    <div class="video-thumbnail">
                                        <div class="play-icon">▶</div>
                                        <div class="video-duration">2:58</div>
                                        <div class="video-details">
                                            <div class="video-title">Bullpen Session</div>
                                            <div class="video-meta">Mechanics Focus</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="video-item" data-src="#" data-title="PG National Showcase - Velocity Peak" data-description="Top velocity performance at Perfect Game National Showcase, touching career-high 92.6 MPH.">
                                    <div class="video-thumbnail">
                                        <div class="play-icon">▶</div>
                                        <div class="video-duration">1:47</div>
                                        <div class="video-details">
                                            <div class="video-title">PG National Showcase</div>
                                            <div class="video-meta">Velocity Peak</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="video-item" data-src="#" data-title="Breaking Ball Development" data-description="Evolution of slider and curveball command over the past 12 months of development.">
                                    <div class="video-thumbnail">
                                        <div class="play-icon">▶</div>
                                        <div class="video-duration">3:21</div>
                                        <div class="video-details">
                                            <div class="video-title">Breaking Ball Development</div>
                                            <div class="video-meta">Skill Progression</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="video-item" data-src="#" data-title="Tournament Championship - Complete Game" data-description="Complete game performance in tournament championship, showcasing stamina and late-game execution.">
                                    <div class="video-thumbnail">
                                        <div class="play-icon">▶</div>
                                        <div class="video-duration">6:33</div>
                                        <div class="video-details">
                                            <div class="video-title">Championship Game</div>
                                            <div class="video-meta">Complete Performance</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Physical Tools Panel -->
                <div class="tab-panel" id="physical-tools">
                    <div class="content-header">Physical Assessment</div>
                    <div class="content-grid">
                        <div class="content-card">
                            <h3>Athletic Measurements</h3>
                            <div class="stat-row">
                                <span class="stat-label">Height</span>
                                <span class="stat-value">6'4"</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Weight</span>
                                <span class="stat-value">194 lbs</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Wingspan</span>
                                <span class="stat-value">6'6"</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Hand Size</span>
                                <span class="stat-value">9.5"</span>
                            </div>
                        </div>

                        <div class="content-card">
                            <h3>Speed & Agility</h3>
                            <div class="stat-row">
                                <span class="stat-label">60-Yard Dash</span>
                                <span class="stat-value">7.2 sec</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Pop Time</span>
                                <span class="stat-value">2.1 sec</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Home to First</span>
                                <span class="stat-value">4.1 sec</span>
                            </div>
                        </div>

                        <div class="content-card">
                            <h3>Arm Strength</h3>
                            <div class="stat-row">
                                <span class="stat-label">OF Velocity</span>
                                <span class="stat-value">95 MPH</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">IF Velocity</span>
                                <span class="stat-value">89 MPH</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">C Velocity</span>
                                <span class="stat-value">82 MPH</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Blast Swift Panel -->
                <div class="tab-panel" id="blast">
                    <div class="content-header">
                        Blast Analysis
                        <img src="images/blast.jpg" alt="Blast" />
                    </div>
                    <div class="content-grid">
                        <div class="content-card">
                            <h3>Swing Metrics</h3>
                            <div class="stat-row">
                                <span class="stat-label">Bat Speed</span>
                                <span class="stat-value">78.5 MPH</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Hand Speed</span>
                                <span class="stat-value">24.2 MPH</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Time to Contact</span>
                                <span class="stat-value">0.19 sec</span>
                            </div>
                        </div>

                        <div class="content-card">
                            <h3>Power Metrics</h3>
                            <div class="stat-row">
                                <span class="stat-label">Exit Velocity</span>
                                <span class="stat-value">94.2 MPH</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Launch Angle</span>
                                <span class="stat-value">15.3°</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Attack Angle</span>
                                <span class="stat-value">8.1°</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Visual Edge Panel -->
                <div class="tab-panel" id="visual-edge">
                    <div class="content-header">
                        Visual Edge Assessment
                        <img src="images/vizual_edge.png" alt="Viz" />
                    </div>
                    <div class="content-grid">
                        <div class="content-card">
                            <h3>Vision Metrics</h3>
                            <div class="stat-row">
                                <span class="stat-label">Reaction Time</span>
                                <span class="stat-value">0.42 sec</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Visual Tracking</span>
                                <span class="stat-value">Above Average</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Depth Perception</span>
                                <span class="stat-value">Excellent</span>
                            </div>
                        </div>

                        <div class="content-card">
                            <h3>Processing Speed</h3>
                            <div class="stat-row">
                                <span class="stat-label">Decision Making</span>
                                <span class="stat-value">0.38 sec</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Pattern Recognition</span>
                                <span class="stat-value">92nd Percentile</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- News Panel -->
                <div class="tab-panel" id="news">
                    <div class="content-header">Latest News</div>
                    <div class="news-item">
                        <div class="news-date">March 15, 2025</div>
                        <div class="news-title">Berg Named PBR Player of the Week</div>
                        <div class="news-excerpt">J. Beckett Berg earned PBR California Player of the Week honors after throwing 7 shutout innings with 12 strikeouts against ranked opponents in tournament play.</div>
                    </div>
                    <div class="news-item">
                        <div class="news-date">March 8, 2025</div>
                        <div class="news-title">Perfect Game Showcase Performance</div>
                        <div class="news-excerpt">Outstanding performance at the Perfect Game National Showcase, touching 93 MPH and showing improved command across all four pitches.</div>
                    </div>
                    <div class="news-item">
                        <div class="news-date">February 28, 2025</div>
                        <div class="news-title">State Rankings Update</div>
                        <div class="news-excerpt">Moved up 3 spots to #15 in California 2027 state rankings following strong early season performances.</div>
                    </div>
                </div>

                <!-- Comments Panel -->
                <div class="tab-panel" id="comments">
                    <div class="content-header">Scout & Coach Comments</div>
                    <div class="content-grid">
                        <div class="content-card">
                            <h3>College Scout - Stanford</h3>
                            <p>"Berg shows excellent mound presence and advanced feel for pitching at his age. His fastball command has improved significantly, and the curveball is becoming a legitimate out pitch. High ceiling with continued development."</p>
                        </div>
                        <div class="content-card">
                            <h3>Head Coach - Notre Dame HS</h3>
                            <p>"Beckett is a natural leader who works extremely hard. His dedication to improving his craft is evident in his velocity gains and improved command. He has the makeup of a college pitcher."</p>
                        </div>
                        <div class="content-card">
                            <h3>PBR Scout Report</h3>
                            <p>"Projectable frame with clean arm action. Shows ability to repeat delivery and maintain velocity throughout outings. Breaking ball has sharp break and good depth. Expect continued velocity gains as he physically matures."</p>
                        </div>
                    </div>
                </div>

                <!-- Contact Panel -->
                <div class="tab-panel" id="contact">
                    <div class="content-header">Contact Information</div>
                    <div class="contact-form">
                        <div class="form-group">
                            <label class="form-label">Name</label>
                            <input type="text" class="form-input" placeholder="Your Name">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Organization</label>
                            <input type="text" class="form-input" placeholder="College/University/Organization">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-input" placeholder="your.email@example.com">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Phone</label>
                            <input type="tel" class="form-input" placeholder="(555) 123-4567">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Message</label>
                            <textarea class="form-input form-textarea" placeholder="Please include information about your interest in J. Beckett Berg..."></textarea>
                        </div>
                        <button type="submit" class="submit-btn">Send Message</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Fake pitch data for plotting
        const fakePitchData = [
            // Fastball data points (more spread out)
            {TaggedPitchType: 'Fastball', HorzBreak: -12.2, InducedVertBreak: 19.8, RelSide: 1.8, RelHeight: 6.1, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Fastball', HorzBreak: -11, InducedVertBreak: 18.5, RelSide: 1.6, RelHeight: 6, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Fastball', HorzBreak: -9.8, InducedVertBreak: 15.2, RelSide: 1.4, RelHeight: 5.8, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Fastball', HorzBreak: -7.1, InducedVertBreak: 17.8, RelSide: 1.7, RelHeight: 6.2, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Fastball', HorzBreak: -5.8, InducedVertBreak: 19.2, RelSide: 1.1, RelHeight: 6.4, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Fastball', HorzBreak: -10.5, InducedVertBreak: 14.6, RelSide: 2.2, RelHeight: 5.7, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Fastball', HorzBreak: -8.9, InducedVertBreak: 14.1, RelSide: 1.9, RelHeight: 6.0, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Fastball', HorzBreak: -10.4, InducedVertBreak: 12.5, RelSide: 1.8, RelHeight: 6.1, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Fastball', HorzBreak: -6.2, InducedVertBreak: 18.8, RelSide: 1.6, RelHeight: 6.3, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Fastball', HorzBreak: -11.1, InducedVertBreak: 15.9, RelSide: 2.0, RelHeight: 5.9, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Fastball', HorzBreak: -12.7, InducedVertBreak: 16.4, RelSide: 1.8, RelHeight: 6.0, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Fastball', HorzBreak: -7.8, InducedVertBreak: 17.1, RelSide: 1.7, RelHeight: 6.2, PitcherThrows: 'Right'},
            
            // Slider data points (more spread out)
            {TaggedPitchType: 'Slider', HorzBreak: 8.9, InducedVertBreak: 5.4, RelSide: 1.2, RelHeight: 5.8, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Slider', HorzBreak: 11.2, InducedVertBreak: 4.1, RelSide: 1.4, RelHeight: 6.1, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Slider', HorzBreak: 6.8, InducedVertBreak: 0.5, RelSide: 1.3, RelHeight: 5.5, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Slider', HorzBreak: 9.7, InducedVertBreak: 3.2, RelSide: 1.3, RelHeight: 5.9, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Slider', HorzBreak: 4.5, InducedVertBreak: 4.8, RelSide: 1.3, RelHeight: 6.2, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Slider', HorzBreak: 7.4, InducedVertBreak: 1.1, RelSide: 1.7, RelHeight: 5.6, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Slider', HorzBreak: 10.1, InducedVertBreak: 5.6, RelSide: 1.5, RelHeight: 6.0, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Slider', HorzBreak: 8.3, InducedVertBreak: 1.8, RelSide: 1.6, RelHeight: 5.7, PitcherThrows: 'Right'},
            
            // Changeup data points (more spread out)
            {TaggedPitchType: 'Changeup', HorzBreak: -12.6, InducedVertBreak: 4.3, RelSide: 1.6, RelHeight: 6.0, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Changeup', HorzBreak: -10.8, InducedVertBreak: 14.2, RelSide: 1.7, RelHeight: 6.2, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Changeup', HorzBreak: -15.1, InducedVertBreak: 9.8, RelSide: 1.4, RelHeight: 5.7, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Changeup', HorzBreak: -13.8, InducedVertBreak: 5.5, RelSide: 1.5, RelHeight: 5.6, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Changeup', HorzBreak: -11.4, InducedVertBreak: 5.7, RelSide: 1.8, RelHeight: 5.9, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Changeup', HorzBreak: -14.5, InducedVertBreak: 10.6, RelSide: 2.0, RelHeight: 5.8, PitcherThrows: 'Right'},
            {TaggedPitchType: 'Changeup', HorzBreak: -12.1, InducedVertBreak: 12.9, RelSide: 1.9, RelHeight: 6.0, PitcherThrows: 'Right'},
        ];

        // Movement plot generation function (simplified from your Python code)
        function generateMovementPlotSVG(pitchData) {
            // Get the container width and set appropriate height
            const container = document.getElementById('movementPlot').parentElement;
            const width = container.offsetWidth - 40; // Account for padding
            const height = Math.max(500, width * 0.5); // Responsive height, minimum 500px
            
            // Function to calculate 95% confidence ellipse
            function calculateConfidenceEllipse(xValues, yValues, confidence = 0.95) {
                if (xValues.length < 3) {
                    return [];
                }
                
                const xMean = xValues.reduce((sum, x) => sum + x, 0) / xValues.length;
                const yMean = yValues.reduce((sum, y) => sum + y, 0) / yValues.length;
                
                const xDiff = xValues.map(x => x - xMean);
                const yDiff = yValues.map(y => y - yMean);
                const n = xValues.length;
                
                const covXX = xDiff.reduce((sum, x) => sum + x * x, 0) / (n - 1);
                const covXY = xDiff.reduce((sum, x, i) => sum + x * yDiff[i], 0) / (n - 1);
                const covYY = yDiff.reduce((sum, y) => sum + y * y, 0) / (n - 1);
                
                const trace = covXX + covYY;
                const det = covXX * covYY - covXY * covXY;
                
                if (det <= 0) {
                    return [];
                }
                
                const lambda1 = (trace + Math.sqrt(trace * trace - 4 * det)) / 2;
                const lambda2 = (trace - Math.sqrt(trace * trace - 4 * det)) / 2;
                
                if (lambda1 <= 0 || lambda2 <= 0) {
                    return [];
                }
                
                const scale = Math.sqrt(5.991); // 95% confidence for 2D
                const a = scale * Math.sqrt(lambda1);
                const b = scale * Math.sqrt(lambda2);
                
                let theta;
                if (Math.abs(covXY) < 1e-10) {
                    theta = covXX >= covYY ? 0 : Math.PI / 2;
                } else {
                    theta = Math.atan2(2 * covXY, covXX - covYY) / 2;
                }
                
                const points = [];
                for (let t = 0; t <= 2 * Math.PI; t += 0.1) {
                    const x = a * Math.cos(t) * Math.cos(theta) - b * Math.sin(t) * Math.sin(theta) + xMean;
                    const y = a * Math.cos(t) * Math.sin(theta) + b * Math.sin(t) * Math.cos(theta) + yMean;
                    points.push([x, y]);
                }
                
                return points;
            }
            // Group pitches by type
            const pitchTypes = {};
            let pitcherThrows = 'Right';
            
            pitchData.forEach(pitch => {
                const pitchType = pitch.TaggedPitchType;
                if (pitch.PitcherThrows) {
                    pitcherThrows = pitch.PitcherThrows;
                }
                
                if (pitchType && pitch.HorzBreak !== null && pitch.InducedVertBreak !== null) {
                    if (!pitchTypes[pitchType]) {
                        pitchTypes[pitchType] = [];
                    }
                    pitchTypes[pitchType].push({
                        hb: pitch.HorzBreak,
                        ivb: pitch.InducedVertBreak,
                        rel_side: pitch.RelSide,
                        rel_height: pitch.RelHeight
                    });
                }
            });

            if (Object.keys(pitchTypes).length === 0) {
                return null;
            }

            // Define colors for pitch types
            const colors = {
                'Changeup': '#059669', 'Curveball': '#1D4ED8', 'Cutter': '#BE185D',
                'Fastball': '#DC2626', 'Knuckleball': '#9333EA', 'Sinker': '#EA580C',
                'Slider': '#7C3AED', 'Splitter': '#0891B2', 'Sweeper': '#F59E0B'
            };

            // Set up plot dimensions
            const marginLeft = 60;
            const marginRight = 40;
            const marginTop = 40;
            const marginBottom = 40;
            const centerGap = 40;
            
            const plotWidth = (width - marginLeft - marginRight - centerGap) / 2;
            const plotHeight = height - marginTop - marginBottom;
            
            // Movement plot (left)
            const movXStart = marginLeft;
            const movYStart = marginTop;
            
            // Release plot (right)
            const relXStart = marginLeft + plotWidth + centerGap;
            const relYStart = marginTop;
            
            // Scale functions for movement plot
            const movXMin = -30, movXMax = 30;
            const movYMin = -30, movYMax = 30;
            
            const scaleMovX = (x) => movXStart + (x - movXMin) / (movXMax - movXMin) * plotWidth;
            const scaleMovY = (y) => movYStart + plotHeight - (y - movYMin) / (movYMax - movYMin) * plotHeight;
            
            // Scale functions for release plot
            const relXMin = -5, relXMax = 5;
            const relYMin = 0, relYMax = 8;
            
            const scaleRelX = (x) => relXStart + (x - relXMin) / (relXMax - relXMin) * plotWidth;
            const scaleRelY = (y) => relYStart + plotHeight - (y - relYMin) / (relYMax - relYMin) * plotHeight;
            
            // Calculate positions for axis labels
            const movCenterX = movXStart + plotWidth/2;
            const movBottomY = height - 10;
            const movLeftY = movYStart + plotHeight/2;
            
            const relCenterX = relXStart + plotWidth/2;
            const relRightX = width - 15;
            const relCenterY = relYStart + plotHeight/2;
            
            // Start building SVG
            let svg = `<svg width="${width}" height="${height}" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <style>
                        .axis-line { stroke: #990000; stroke-width: 2; }
                        .grid-line { stroke: rgba(0,0,0,0.2); stroke-width: 1; }
                        .axis-text { font-family: Arial, sans-serif; font-size: 10px; fill: black; }
                        .axis-title { font-family: Arial, sans-serif; font-size: 12px; font-weight: bold; fill: black; }
                        .legend-text { font-family: Arial, sans-serif; font-size: 9px; fill: black; }
                        .plot-title { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; fill: #1a1a1a; text-anchor: start; }
                        .plot-subtitle { font-family: Arial, sans-serif; font-size: 10px; fill: #666666; text-anchor: start; font-style: italic; }
                        .plot-border { stroke: black; stroke-width: 2; fill: none; }
                        .home-plate { stroke: #990000; stroke-width: 2; fill: white; }
                        .release-text { font-family: Arial, sans-serif; font-size: 12px; font-weight: bold; fill: #990000; text-anchor: middle; }
                    </style>
                </defs>
                <rect width="${width}" height="${height}" fill="white"/>`;
            
            // Movement plot titles
            svg += `<text x="${movXStart}" y="20" class="plot-title">Movement Profile</text>`;
            svg += `<text x="${movXStart}" y="32" class="plot-subtitle">Pitcher's Perspective</text>`;
            
            // Movement plot grid
            for (let x = -25; x <= 30; x += 5) {
                const xPos = scaleMovX(x);
                const lineClass = x === 0 ? 'axis-line' : 'grid-line';
                svg += `<line x1="${xPos}" y1="${movYStart}" x2="${xPos}" y2="${movYStart + plotHeight}" class="${lineClass}"/>`;
                if (x !== 0) {
                    svg += `<text x="${xPos}" y="${movYStart + plotHeight + 15}" class="axis-text" text-anchor="middle">${x}</text>`;
                }
            }
            
            for (let y = -25; y <= 30; y += 5) {
                const yPos = scaleMovY(y);
                const lineClass = y === 0 ? 'axis-line' : 'grid-line';
                svg += `<line x1="${movXStart}" y1="${yPos}" x2="${movXStart + plotWidth}" y2="${yPos}" class="${lineClass}"/>`;
                if (y !== 0) {
                    svg += `<text x="${movXStart - 10}" y="${yPos + 3}" class="axis-text" text-anchor="end">${y}</text>`;
                }
            }
            
            // Movement plot border
            svg += `<rect x="${movXStart}" y="${movYStart}" width="${plotWidth}" height="${plotHeight}" class="plot-border"/>`;
            
            // Movement plot axis labels
            svg += `<text x="${movCenterX}" y="${movBottomY}" class="axis-title" text-anchor="middle">Horizontal Break (in)</text>`;
            svg += `<text x="20" y="${movLeftY}" class="axis-title" text-anchor="middle" transform="rotate(-90, 20, ${movLeftY})">Induced Vertical Break (in)</text>`;
            
            // Release plot titles
            svg += `<text x="${relXStart}" y="20" class="plot-title">Release Point</text>`;
            svg += `<text x="${relXStart}" y="32" class="plot-subtitle">Pitcher's Perspective</text>`;
            
            // Release plot grid
            for (let x = -4; x <= 4; x++) {
                const xPos = scaleRelX(x);
                const lineClass = x === 0 ? 'axis-line' : 'grid-line';
                svg += `<line x1="${xPos}" y1="${relYStart}" x2="${xPos}" y2="${relYStart + plotHeight}" class="${lineClass}"/>`;
                if (x !== 0) {
                    svg += `<text x="${xPos}" y="${relYStart + plotHeight + 15}" class="axis-text" text-anchor="middle">${x}</text>`;
                }
            }
            
            for (let y = 1; y <= 7; y++) {
                const yPos = scaleRelY(y);
                svg += `<line x1="${relXStart}" y1="${yPos}" x2="${relXStart + plotWidth}" y2="${yPos}" class="grid-line"/>`;
                svg += `<text x="${relXStart - 10}" y="${yPos + 3}" class="axis-text" text-anchor="end">${y}</text>`;
            }
            
            // Release plot border
            svg += `<rect x="${relXStart}" y="${relYStart}" width="${plotWidth}" height="${plotHeight}" class="plot-border"/>`;
            
            // Release plot axis labels
            svg += `<text x="${relCenterX}" y="${movBottomY}" class="axis-title" text-anchor="middle">Release Side (ft)</text>`;
            svg += `<text x="${relRightX}" y="${relCenterY}" class="axis-title" text-anchor="middle" transform="rotate(-90, ${relRightX}, ${relCenterY})">Release Height (ft)</text>`;
            
            // Add LHP/RHP labels to release plot
            svg += `<text x="${scaleRelX(-4)}" y="${scaleRelY(7.5)}" class="release-text">LHP</text>`;
            svg += `<text x="${scaleRelX(4)}" y="${scaleRelY(7.5)}" class="release-text">RHP</text>`;
            
            // Add home plate to release plot
            const plateLeft = scaleRelX(-1.0);
            const plateRight = scaleRelX(1.0);
            const plateTop = scaleRelY(1.0);
            const plateBottom = scaleRelY(0.7);
            svg += `<rect x="${plateLeft}" y="${plateTop}" width="${plateRight - plateLeft}" height="${plateBottom - plateTop}" class="home-plate"/>`;
            
            // Add average release point
            const avgRelSide = pitcherThrows === 'Left' ? -1.7 : 1.66;
            const avgRelHeight = 5.7;
            const avgX = scaleRelX(avgRelSide);
            const avgY = scaleRelY(avgRelHeight);
            svg += `<circle cx="${avgX}" cy="${avgY}" r="6" fill="white" stroke="black" stroke-width="2"/>`;
            
            // Plot data for both charts
            Object.entries(pitchTypes).forEach(([pitchType, pitches]) => {
                const color = colors[pitchType] || '#666666';
                
                // Extract coordinates for movement plot
                const hbValues = pitches.map(p => p.hb);
                const ivbValues = pitches.map(p => p.ivb);
                
                // Draw 95% confidence ellipse for movement (only if we have enough points)
                if (pitches.length >= 3) {
                    const ellipsePoints = calculateConfidenceEllipse(hbValues, ivbValues);
                    if (ellipsePoints.length > 0) {
                        const pathData = ellipsePoints.map((point, i) => {
                            const x = scaleMovX(point[0]);
                            const y = scaleMovY(point[1]);
                            return i === 0 ? `M ${x} ${y}` : `L ${x} ${y}`;
                        });
                        pathData.push('Z');
                        svg += `<path d="${pathData.join(' ')}" fill="none" stroke="${color}" stroke-width="1.5" stroke-opacity="0.7"/>`;
                    }
                }
                
                // Movement individual points
                pitches.forEach(pitch => {
                    const xPos = scaleMovX(pitch.hb);
                    const yPos = scaleMovY(pitch.ivb);
                    svg += `<circle cx="${xPos}" cy="${yPos}" r="2.5" fill="${color}" fill-opacity="0.6" stroke="rgba(255,255,255,0.4)" stroke-width="0.5"/>`;
                });
                
                // Movement average point
                if (pitches.length > 0) {
                    const avgHb = pitches.reduce((sum, p) => sum + p.hb, 0) / pitches.length;
                    const avgIvb = pitches.reduce((sum, p) => sum + p.ivb, 0) / pitches.length;
                    const avgX = scaleMovX(avgHb);
                    const avgY = scaleMovY(avgIvb);
                    svg += `<circle cx="${avgX}" cy="${avgY}" r="5" fill="${color}" stroke="rgba(0,0,0,0.8)" stroke-width="2"/>`;
                }
                
                // Release individual points
                pitches.forEach(pitch => {
                    if (pitch.rel_side !== null && pitch.rel_height !== null) {
                        const xPos = scaleRelX(pitch.rel_side);
                        const yPos = scaleRelY(pitch.rel_height);
                        svg += `<circle cx="${xPos}" cy="${yPos}" r="2.5" fill="${color}" fill-opacity="0.6" stroke="rgba(255,255,255,0.4)" stroke-width="0.5"/>`;
                    }
                });
            });
            
            // Legend positioning based on pitcher handedness
            const legendX = pitcherThrows === 'Left' ? movXStart + 20 : movXStart + plotWidth - 80;
            const legendYStart = movYStart + plotHeight - 20;
            let currentLegendY = legendYStart;
            
            Object.keys(pitchTypes).forEach(pitchType => {
                const color = colors[pitchType] || '#666666';
                svg += `<circle cx="${legendX}" cy="${currentLegendY}" r="3" fill="${color}"/>`;
                svg += `<text x="${legendX + 10}" y="${currentLegendY + 3}" class="legend-text">${pitchType}</text>`;
                currentLegendY -= 15;
            });
            
            svg += '</svg>';
            return svg;
        }

        // Tab functionality
        document.addEventListener('DOMContentLoaded', function() {
            const tabItems = document.querySelectorAll('.tab-item');
            const tabPanels = document.querySelectorAll('.tab-panel');

            tabItems.forEach(item => {
                item.addEventListener('click', function() {
                    const targetTab = this.getAttribute('data-tab');
                    
                    // Remove active class from all tabs and panels
                    tabItems.forEach(tab => tab.classList.remove('active'));
                    tabPanels.forEach(panel => panel.classList.remove('active'));
                    
                    // Add active class to clicked tab and corresponding panel
                    this.classList.add('active');
                    document.getElementById(targetTab).classList.add('active');
                });
            });

            // Generate and display the movement plot
            const plotContainer = document.getElementById('movementPlot');
            
            // Function to render plot
            function renderPlot() {
                const plotSVG = generateMovementPlotSVG(fakePitchData);
                if (plotSVG) {
                    plotContainer.innerHTML = plotSVG;
                }
            }
            
            // Initial render
            renderPlot();
            
            // Re-render on window resize
            window.addEventListener('resize', renderPlot);

            // Pitching table filter functionality
            const eventFilter = document.getElementById('eventFilter');
            const yearFilter = document.getElementById('yearFilter');
            const resetButton = document.getElementById('resetFilters');
            const tableRows = document.querySelectorAll('#pitchingTableBody tr');

            function filterTable() {
                const selectedEvent = eventFilter.value;
                const selectedYear = yearFilter.value;

                tableRows.forEach(row => {
                    const rowEvent = row.getAttribute('data-event');
                    const rowYear = row.getAttribute('data-year');
                    
                    let showRow = false;

                    // Show "all" data when both filters are "all"
                    if (selectedEvent === 'all' && selectedYear === 'all') {
                        showRow = rowEvent === 'all';
                    } 
                    // Show specific event data
                    else if (selectedEvent !== 'all' && selectedYear === 'all') {
                        showRow = rowEvent === selectedEvent;
                    }
                    // Show specific year data
                    else if (selectedEvent === 'all' && selectedYear !== 'all') {
                        showRow = rowYear === selectedYear && rowEvent !== 'all';
                    }
                    // Show specific event and year combination
                    else {
                        showRow = rowEvent === selectedEvent && rowYear === selectedYear;
                    }

                    row.style.display = showRow ? '' : 'none';
                });
            }

            function resetFilters() {
                eventFilter.value = 'all';
                yearFilter.value = 'all';
                filterTable();
            }

            // Event listeners
            eventFilter.addEventListener('change', filterTable);
            yearFilter.addEventListener('change', filterTable);
            resetButton.addEventListener('click', resetFilters);

            // Initialize with default view
            filterTable();

            // Video player functionality
            const videoItems = document.querySelectorAll('.video-item');
            const mainVideoPlayer = document.getElementById('mainVideoPlayer');
            const currentVideoTitle = document.getElementById('currentVideoTitle');
            const currentVideoDescription = document.getElementById('currentVideoDescription');

            videoItems.forEach(item => {
                item.addEventListener('click', function() {
                    // Remove active class from all video items
                    videoItems.forEach(video => video.classList.remove('active'));
                    
                    // Add active class to clicked item
                    this.classList.add('active');
                    
                    // Get video data
                    const videoSrc = this.getAttribute('data-src');
                    const videoTitle = this.getAttribute('data-title');
                    const videoDescription = this.getAttribute('data-description');
                    
                    // Update main video player (only if not placeholder)
                    if (videoSrc !== '#') {
                        mainVideoPlayer.src = videoSrc;
                        mainVideoPlayer.load();
                    }
                    
                    // Update video info
                    currentVideoTitle.textContent = videoTitle;
                    currentVideoDescription.textContent = videoDescription;
                });
            });
        });
    </script>
</body>
</html>